%h1 Projects
%style
  select {width: auto !important; font-size: 14px !important;}
  input {width: auto !important; font-size: 14px !important;}

.wdn-main.maincontent#maincontent
  - if @projects.empty?
    %p No project was created.
  - else
    = form_tag("projects/manage-projects", method: "post") do
      = render 'shared/error_messages', object: @project
      %table.display#projects
        %thead
          %tr
            %th{style: 'text-align: center'}
              = check_box_tag 'checkAll', ""
            %th Project Name
            %th Sponsor Name
            %th Semester
            %th Initial Capacity
            %th Proposal
            %th Active
            %th Status
            %th
        %tbody
          -@projects.each do |p|
            %tr
              %td{style: 'text-align: center'}= check_box_tag 'project[]', p.id
              %td= p.name
              %td
                %a{href: sponsor_path(p.sponsor_id)}= Sponsor.find(p.sponsor_id).full_name
              %td= p.semester
              %td= p.initial_capacity
              %td
                - if p.proposal?
                  %a{href: "#{p.proposal.url}", title: "#{p.proposal_file_name}"}= truncate(p.proposal_file_name, :length => 20, :omission => '...')
                - else
                  No Proposal Upload
              %td
                - if p.active
                  Active
                - else
                  Inactive
              %td
                - if p.status
                  Enabled
                - else
                  Disabled
              %td
                %a.wdn-button.wdn-button-triad{ href: project_path(p.id), style: 'font-size: 10px !important;' } Show
      - if current_user.sponsor.nil?
        %div{style:"float: left"}
          %span{style: 'font-size: 25px;'} &#8627;
          = submit_tag 'activate', {style: 'font-size: 10px !important; background: rgb(79, 199, 146)', confirm: 'Are you confirm to activate?'}
          = submit_tag 'deactivate', {style: 'font-size: 10px !important; background: rgb(46, 124, 90)', confirm: 'Are you confirm to deactivate?'}
          = submit_tag 'enable', {style: 'font-size: 10px !important; background: rgb(84, 157, 224)', confirm: 'Are you confirm to enable?'}
          = submit_tag 'disable', {style: 'font-size: 10px !important; background: rgb(56, 106, 151)', confirm: 'Are you confirm to disable?'}
          = submit_tag 'delete', {style: 'font-size: 10px !important; background: rgb(224, 95, 84)', confirm: 'Are you confirm to delete?'}